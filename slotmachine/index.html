<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<title>jQuery Slot Machine</title>

		<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=2.0">

		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
		<link rel="stylesheet" href="./css/style.css" type="text/css" media="screen" />
		<link rel="stylesheet" href="./js/jquery.slotmachine.css" type="text/css" media="screen" />


		<script src="https://code.jquery.com/jquery-3.5.0.slim.min.js" integrity="sha256-MlusDLJIP1GRgLrOflUQtshyP0TwT/RHXsI1wWGnQhs=" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
		<script src="./js/slotmachine.js"></script>

	</head>
	<body>
	<div id="container">
		<div class="row">
			<div class="col-sm">
				<h1>標題</h1>
			</div>
		</div>
		<div class="row">
			<div class="col-sm form-group">
				<label class="col-form-label">長度</label>
				<input type="text" class="form-control" id="" name="" value="" placeholder="cm">
			</div>
		</div>
		<div class="row">
			<div class="col-sm form-group">
				<label class="col-form-label">粗度（圓周）</label>
				<input type="text" class="form-control" id="" name="" value="" placeholder="cm">
			</div>
		</div>
		<div class="row">
			<div class="col-sm form-group d-flex justify-content-center">
				<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#infoModal">點我看如何正確測量</button>　
				<button id="startButton" type="button" class="btn btn-primary btn-lg"  >開始計算</button>
			</div>
		</div>
		<div>
			<div class="col-sm form-group">
				<p>
					聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字 聲明文字
				</p>
			</div>
		</div>
	</div>
	<br>
	<br>
	<br>
	<br>
	<br>
	<div id="casino" class="d-none">
      <div class="content">
        <div>
          <div id="casino1" class="slotMachine" style="margin-left: -65px;">
            <div class="slot slot1"></div>
            <div class="slot slot2"></div>
            <div class="slot slot3"></div>
            <div class="slot slot4"></div>
            <div class="slot slot5"></div>
            <div class="slot slot6"></div>
          </div>

          <div id="casino2" class="slotMachine">
            <div class="slot slot1"></div>
            <div class="slot slot2"></div>
            <div class="slot slot3"></div>
            <div class="slot slot4"></div>
            <div class="slot slot5"></div>
            <div class="slot slot6"></div>
          </div>

          <div id="casino3" class="slotMachine">
            <div class="slot slot1"></div>
            <div class="slot slot2"></div>
            <div class="slot slot3"></div>
            <div class="slot slot4"></div>
            <div class="slot slot5"></div>
            <div class="slot slot6"></div>
          </div>
        </div>
      </div>

    </div>
    <script>
		$('#startButton').click(function(){
			$('#casino').removeClass('d-none');
			const casino1 = document.querySelector('#casino1');
			const casino2 = document.querySelector('#casino2');
			const casino3 = document.querySelector('#casino3');
			const mCasino1 = new SlotMachine(casino1, {
				active: 0,
				delay: 500
			});
			const mCasino2 = new SlotMachine(casino2, {
				active: 1,
				delay: 500
			});
			const mCasino3 = new SlotMachine(casino3, {
				active: 2,
				delay: 500
			});

			// go to div #casino
			window.location.href = '#casino';
			
			// start machine
			mCasino1.shuffle(9999);
			mCasino2.shuffle(9999);
			mCasino3.shuffle(9999);
			setTimeout(function(){
				// stop machine
				mCasino1.stop();
				mCasino2.stop();
				mCasino3.stop();
				setTimeout(function(){ $('#resultModal').modal('show'); }, 1500);
			}, 2000);
		});
				
		function copyText(){
			var text = document.getElementById("sharedUrl");
			text.select();
			text.setSelectionRange(0, 99999); //For mobile devices
			document.execCommand("copy");
			alert("複製：" + text.value);
		}
    </script>


	<div class="modal fade" id="infoModal" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">如何正確測量？</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<img src="./img/noun_Bird_1711226.png" width="400px">
				</div>
			</div>
		</div>
	</div>

	<div class="modal fade" id="resultModal" tabindex="-1" role="dialog" aria-hidden="true">
		<div class="modal-dialog" role="document">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title">你的結果</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body">
					<span>粗度PR值：87</span><br>
					<span>長度PR值：87</span><br>
					<span>代表物：</span>
					<img src="./img/sword.png" width="400px">
				</div>
				<div class="modal-footer">
					<div class="form-inline mr-auto">
						<button type="button" class="btn btn-primary" onclick="location.href='https://www.facebook.com/sharer/sharer.php?kid_directed_site=0&sdk=joey&u=http%3A%2F%2Ftest.harry.fun%2Fslotmachine%2Ftest10.html&display=popup&ref=plugin&src=share_button'">ＦＢ分享</button>　
						<button onclick="copyText()" type="button" class="btn btn-primary">複製網址分享</button>　
						<input type="text" class="form-control" id="sharedUrl" name="" value="http://test.harry.fun/slotmachine/test10.html">
					</div>
				</div>
			</div>
		</div>
	</div>

	<div id="fb-root"></div>
	<script async defer crossorigin="anonymous" src="https://connect.facebook.net/zh_TW/sdk.js#xfbml=1&version=v8.0&appId=1936362173067187&autoLogAppEvents=1" nonce="tsYUcCy8"></script>
	<div class="fb-share-button" data-href="http://test.harry.fun/slotmachine/test10.html" data-layout="button_count" data-size="large"></div>
  </body>
</html>
